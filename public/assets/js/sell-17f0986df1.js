function autocomplete(e,t,n){var i;function a(e){if(!e)return!1;!function(e){for(var t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")}(e),i>=e.length&&(i=0),i<0&&(i=e.length-1),e[i].classList.add("autocomplete-active")}function o(t){for(var n=document.getElementsByClassName("autocomplete-items"),i=0;i<n.length;i++)t!=n[i]&&t!=e&&n[i].parentNode.removeChild(n[i])}console.log(t),e.addEventListener("input",(function(a){var l,c,d,u=this.value;if(o(),!u)return!1;for(i=-1,(l=document.createElement("DIV")).setAttribute("id",this.id+"autocomplete-list"),l.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(l),d=0;d<t.length;d++)if(t[d].substr(0,u.length).toUpperCase()==u.toUpperCase()){async function s(e,t){const n=t.find((t=>t.name===e));if(n){const e=n.id;console.log(`Selected Medicine ID: ${e}`),$('input[name="Medicine_id"]').val(e)}else console.error(`Medicine details not found for ${e}`)}(c=document.createElement("DIV")).innerHTML="<strong>"+t[d].substr(0,u.length)+"</strong>",c.innerHTML+=t[d].substr(u.length),c.innerHTML+="<input type='hidden' value='"+t[d]+"'>",c.addEventListener("click",(function(t){e.value=this.getElementsByTagName("input")[0].value,console.log("hello"),console.log(n),s(e.value,n),o()})),l.appendChild(c)}})),e.addEventListener("keydown",(function(e){var t=document.getElementById(this.id+"autocomplete-list");t&&(t=t.getElementsByTagName("div")),40==e.keyCode?(i++,a(t)):38==e.keyCode?(i--,a(t)):13==e.keyCode&&(e.preventDefault(),i>-1&&t&&t[i].click())})),document.addEventListener("click",(function(e){o(e.target)}))}$(document).ready((function(){function e(){const e=$('input[name="Medicine_name"]').val(),t=$('input[name="Medicine_id"]').val(),n=$('input[name="Stock"]').val();if(!e||!t||!n)return void alert("Please fill in all fields before adding an item.");const i=$('<div class="input-set">'),a=$(`<input class="form-style-place" type="text" name="medicine_name[]" placeholder="Medicine Name" required value="${e}">`),o=$(`<input class="form-style-place" type="text" name="medicine_id[]" placeholder="Medicine ID" required value="${t}">`),l=$(`<input class="form-style-place" type="number" name="stock[]" placeholder="Unit Sell" required value="${n}">`),c=$('<button type="button" class="deleteInputField"><img src="/images/delete.png"></button>');$('input[name="Medicine_name"]').val(""),$('input[name="Medicine_id"]').val(""),$('input[name="Stock"]').val(""),i.append(a),i.append(l),i.append(o),i.append(c),$("#inputFieldsContainer").append(i)}$("#addInputField").click((function(){e()})),$('input[name="Medicine_name"], input[name="Stock"], input[name="Medicine_id"]').keyup((function(t){32===t.keyCode&&e()}))})),$(document).ready((function(){$(document).on("click",".deleteInputField",(function(){$(this).parent().remove()})),$("#updateInventoryForm").submit((function(e){e.preventDefault();const t=$(this).serializeArray();$.ajax({type:"POST",url:"/inventory/drop",data:t,success:function(e){console.log("Form submitted successfully",e.data.pdfFilePath)},error:function(e){console.error("Form submission failed",e)}})}))}));