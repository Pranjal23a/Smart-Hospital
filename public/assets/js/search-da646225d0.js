$(document).ready((function(){$("#search-form");const t=$("#search-results"),e=$("#search-query");e.on("input",(function(){const n=e.val();$.ajax({url:`/staff/search/${n}`,dataType:"json",success:function(e){console.log("Data received:",e),function(e){if(t.html(""),e.length>=0){const n=$("<table>").attr("border","1").css("text-align","center"),r=$("<thead>").html("\n                <tr>\n                    <th>Sno.</th>\n                    <th>Medicine ID</th>\n                    <th>Name</th>\n                    <th>Stock</th>\n                    <th>Price (per Unit)</th>\n                    <th>Expiry Date</th>\n                </tr>\n            "),o=$("<tbody>");let a=1;e.forEach((t=>{const e=$("<tr>").html(`\n                    <td>${a++}</td>\n                    <td>${t.medicine_id}</td>\n                    <td>${t.name}</td>\n                    <td>${t.stock} U</td>\n                    <td>Rs. ${t.price}</td>\n                    <td style="${n=t.exp_date,r=new Date,c=new Date(n)-r,d=Math.floor(c/864e5),d<0?" background-color: red;":d<=30?"background-color: orange;":""}">\n                        ${new Date(t.exp_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}\n                    </td>\n                `);var n,r,c,d;o.append(e)})),n.append(r),n.append(o),t.append(n)}else t.text("No results found.")}(e)},error:function(t){console.error("Error:",t)}})}))}));